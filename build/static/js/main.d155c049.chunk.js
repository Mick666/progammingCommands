(this.webpackJsonppart2=this.webpackJsonppart2||[]).push([[0],{14:function(e,t,n){e.exports=n(37)},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(13),c=n.n(a),r=n(0),o=n.n(r),u=n(2),i=n(3),l=n.n(i),m={getAll:function(){return l.a.get("/api/commands").then((function(e){return e.data}))},create:function(e){return console.log(e),l.a.post("/api/commands",e).then((function(e){return e.data}))},update:function(e,t){return l.a.put("".concat("/api/commands","/").concat(e),t).then((function(e){return e.data}))}},s=(n(36),function(e){var t=e.value,n=e.onChangeFunction;return o.a.createElement("input",{value:t,onChange:n})}),d=function(e){var t=e.name,n=e.number,a=e.nameOnChange,c=e.numberOnChange,r=e.onSubmission;return o.a.createElement("div",null,o.a.createElement("form",{onSubmit:r},o.a.createElement("div",null,"Command: ",o.a.createElement("input",{value:t,onChange:a})),o.a.createElement("div",null,"Description: ",o.a.createElement("input",{value:n,onChange:c})),o.a.createElement("button",{type:"submit"},"Add")))},f=function(e){var t=e.persons,n=e.deleteFunction;return o.a.createElement("div",null,t.map((function(e,t){return o.a.createElement("div",{key:t,style:{display:"flex"}},o.a.createElement("p",{className:"command"},e.command," ")," ",o.a.createElement("p",{className:"description"}," ",e.description," "),o.a.createElement("button",{"data-key":e.id,"data-name":e.name,onClick:n,style:{height:"20px",marginLeft:"10px",marginTop:"15px"}},"Delete"))})))},p=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),i=Object(u.a)(c,2),l=i[0],p=i[1],h=Object(r.useState)(""),b=Object(u.a)(h,2),v=b[0],g=b[1],E=Object(r.useState)(""),O=Object(u.a)(E,2),j=O[0],C=O[1],y=Object(r.useState)(n),S=Object(u.a)(y,2),w=S[0],k=S[1],x=Object(r.useState)(null),N=Object(u.a)(x,2),T=N[0],A=N[1],D=Object(r.useState)(null),F=Object(u.a)(D,2),L=F[0],I=F[1];Object(r.useEffect)((function(){m.getAll().then((function(e){a(e),k(e)}))}),[]);var J=function(e){var t=e.message,n=e.className;return null===t?null:o.a.createElement("div",{className:n},t)};return o.a.createElement("div",null,o.a.createElement(J,{message:L,className:"notification"}),o.a.createElement(J,{message:T,className:"error"}),o.a.createElement("h2",null,"Programming commands"),o.a.createElement("h3",null,"Search the list"),o.a.createElement(s,{value:j,onChangeFunction:function(e){C(e.target.value);var t=e.target.value,a=n.filter((function(e){return 0===e.name.toLowerCase().indexOf(t.toLowerCase())}));k(a)}}),o.a.createElement("h3",null,"Add to the list"),o.a.createElement(d,{name:l,number:v,nameOnChange:function(e){p(e.target.value)},numberOnChange:function(e){g(e.target.value)},onSubmission:function(e){e.preventDefault();var t=n.find((function(e){return e.name===l})),c={command:l,description:v};t&&window.confirm("".concat(l," is already added to the phone book. \n    Replace the old number with the new number?"))?m.update(c).then((function(e){a(n.map((function(n){return n.id!==t.id?n:e}))),k(n.map((function(n){return n.id!==t.id?n:e}))),I("Updated ".concat(c.name)),setTimeout((function(){I(null)}),5e3)})).catch((function(e){A(e.response.data),setTimeout((function(){A(null)}),5e3)})):m.create(c).then((function(e){a(n.concat(e)),k(n.concat(e)),I("Added ".concat(c.name)),setTimeout((function(){I(null)}),5e3)})).catch((function(e){A(e.response.data.error),setTimeout((function(){A(null)}),5e3)}))}}),o.a.createElement("h2",null,"Commands"),o.a.createElement(f,{persons:w,deleteFunction:function(e){var t=e.target.dataset.name;if(window.confirm("Delete ".concat(t,"?"))){var c=e.target.dataset.key;m.deleteEntry(c).then((function(e){var t=n.filter((function(e){return e.id!==c}));a(t),k(t)})).catch((function(e){A("Information of ".concat(t," has already been removed from the server")),setTimeout((function(){A(null)}),5e3)}))}}}))};c.a.render(o.a.createElement(p,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.d155c049.chunk.js.map